# 团队午餐推荐小程序

## 项目简介

这是一个专为小团队午餐选择而设计的微信小程序。通过分析团队成员的地域口味偏好，智能推荐附近合适的餐厅，解决"中午吃什么"的纠结问题。

## 项目背景

- **团队成员**: 4人（河南1人、湖南2人、安徽1人）
- **工作地点**: 上海市松江区千帆路288弄
- **核心问题**: 每天中午选择餐厅时的纠结和意见分歧

## 核心功能

### 1. 成员管理
- 成员信息录入（姓名、籍贯、口味偏好）
- 个人口味标签设置（辣度、甜度、咸淡等）
- 忌口和特殊饮食需求

### 2. 智能推荐
- 基于地理位置的餐厅搜索
- 根据成员口味偏好的综合评分算法
- 考虑价格、距离、评分等因素
- 避免重复推荐最近去过的餐厅

### 3. 决策投票
- 推荐结果展示
- 成员快速投票功能
- 实时投票结果统计

### 4. 历史记录
- 用餐历史记录
- 餐厅评价和反馈
- 个人喜好学习优化

### 5. 附加功能
- 天气考虑（雨天推荐有外卖的餐厅）
- 时间考虑（高峰期推荐预订功能）
- 团建聚餐模式

## 技术架构

### 前端
- 微信小程序原生框架
- WeUI组件库
- 响应式设计

### 后端服务
- 微信云开发
- 云数据库存储用户和餐厅数据
- 云函数处理推荐算法

### 第三方服务
- 腾讯地图API（位置服务）
- 大众点评API（餐厅信息）
- 微信支付（团购功能）

## 数据设计

### 用户表 (users)
```json
{
  "openid": "用户唯一标识",
  "name": "用户姓名",
  "hometown": "籍贯",
  "taste_preferences": {
    "spicy_level": 3,      // 辣度偏好 1-5
    "sweet_level": 2,      // 甜度偏好 1-5
    "salty_level": 3,      // 咸淡偏好 1-5
    "preferred_cuisines": ["湘菜", "川菜", "本帮菜"],
    "disliked_foods": ["香菜", "胡萝卜"],
    "dietary_restrictions": ["不吃辣", "素食"]
  }
}
```

### 餐厅表 (restaurants)
```json
{
  "id": "餐厅ID",
  "name": "餐厅名称",
  "cuisine_type": "菜系",
  "location": {
    "lat": 31.0056,
    "lng": 121.2233,
    "address": "详细地址",
    "distance": 500
  },
  "tags": ["川菜", "辣", "实惠"],
  "price_range": 2,        // 价格区间 1-4
  "rating": 4.2,
  "phone": "联系电话"
}
```

### 投票记录表 (votes)
```json
{
  "date": "2024-01-15",
  "restaurants": ["餐厅ID1", "餐厅ID2", "餐厅ID3"],
  "votes": {
    "餐厅ID1": ["用户1", "用户2"],
    "餐厅ID2": ["用户3"],
    "餐厅ID3": ["用户4"]
  },
  "final_choice": "餐厅ID1"
}
```

## 推荐算法

### 评分规则
1. **口味匹配度** (40%): 根据成员籍贯和个人偏好
2. **距离便利性** (25%): 步行距离和交通便利
3. **价格合理性** (20%): 符合团队预算
4. **评分口碑** (15%): 用户评价和历史反馈

### 特殊考虑
- 新成员加入时的口味学习
- 季节性推荐（夏天清淡，冬天温补）
- 避免连续推荐同类型餐厅

## 开发环境

- 微信开发者工具
- Node.js 16+
- 微信云开发环境

## 项目结构

```
├── miniprogram/           # 小程序前端代码
│   ├── pages/            # 页面文件夹
│   │   ├── index/        # 首页
│   │   ├── profile/      # 个人设置
│   │   ├── recommend/    # 推荐页面
│   │   └── vote/         # 投票页面
│   ├── components/       # 自定义组件
│   ├── utils/           # 工具函数
│   └── images/          # 图片资源
├── cloudfunctions/       # 云函数
│   ├── recommend/       # 推荐算法
│   ├── getUserInfo/     # 用户信息
│   └── vote/           # 投票处理
└── database/            # 数据库设计文档
```

## 部署说明

1. 配置微信小程序AppID
2. 开通微信云开发服务
3. 部署云函数和数据库
4. 申请地图API密钥
5. 测试并发布

## 更新日志

### v1.0.0 (开发中)
- [x] 项目需求分析和架构设计
- [ ] 用户管理模块
- [ ] 推荐算法实现
- [ ] 投票功能开发
- [ ] 界面设计和优化

---

*解决团队午餐选择困难症，让每一餐都是最佳选择！* 